<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock Paper Scissors</title>

    <style>
      #scores {
        font-size: 2rem;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Rock, paper, scissors</h1>
      <div id="scores">Player: 0 | 0 Computer</div>
      <div id="buttons">
        <button data-move="rock">Rock</button>
        <button data-move="paper">Paper</button>
        <button data-move="scissors">Scissors</button>
      </div>
      <div id="messages"></div>
    </div>
    <script>
      let playerScore = 0,
        computerScore = 0;

      function printMessage(msg) {
        let div = document.createElement("div");
        div.innerHTML = msg;
        document.getElementById("messages").appendChild(div);
      }

      function clearMessages() {
        document.getElementById("messages").innerHTML = "";
      }

      function getComputerMove() {
        const moves = ["rock", "paper", "scissors"];
        return moves[Math.floor(Math.random() * moves.length)];
      }

      function checkWinner(playerMove, computerMove) {
        if (playerMove === computerMove) {
          return "Draw";
        }

        if (
          (playerMove === "rock" && computerMove === "scissors") ||
          (playerMove === "paper" && computerMove === "rock") ||
          (playerMove === "scissors" && computerMove === "paper")
        ) {
          playerScore++;
          return "Player wins!";
        }
        computerScore++;
        return "Computer wins!";
      }

      function updateScores() {
        document.getElementById("scores").textContent =
          `Player: ${playerScore} | ${computerScore} Computer`;
      }

      function playGame(playerMove) {
        const computerMove = getComputerMove();
        let winner = checkWinner(playerMove, computerMove);
        printMessage(
          `Computer move: ${computerMove}, Player move: ${playerMove} | ${winner}`,
        );
        updateScores();
      }

      document.querySelectorAll("button[data-move]").forEach((button) => {
        button.addEventListener("click", (e) => {
          const playerMove = e.currentTarget.dataset.move;
          playGame(playerMove);
        });
      });
    </script>
  </body>
</html>
